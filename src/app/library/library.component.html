<div class="container">
    <div class="row mt-3">
        <div class="col-12 bg-secondary">
        <div class="col-8 p-0 d-inline-block">
            <app-input type="text" label="Search" (change)="refresh()" [(value)]="search"></app-input>
        </div>
        <div class="col-4 p-0 text-right d-inline-block">
            <button class="btn text-light p-0" (click)="loadUserFiles()">
                <i style="font-size: 30px" class="material-icons">loop</i>
            </button>
            <button class="btn text-info p-0" (click)="uploadbtn.click()">
                <i style="font-size: 30px" class="material-icons">library_add</i>
            </button>
            <input type="file" class="d-none" #uploadbtn (change)="upload($event)" multiple="multiple"/>
        </div> 
        </div>
        <div class="col-12 p-3 border border-light mt-1">
            <app-card class="d-inline-block m-2 file-card" *ngFor="let file of files">
                <div class="row">
                    <div class="col-4">
                        <i style="font-size:60px;" class="material-icons">{{file.icon}}</i>
                    </div>
                    <div class="col-8">
                        <div><i>{{file.name}}</i></div>
                        <div>{{file.size}}</div>
                        <div>{{file.date}}</div>
                    </div>
                </div>
                <div class="row text-center">
                    <div class="col-12">
                        <i class="material-icons m-1 text-dark" (click)="view(file)" title="Preview">preview</i>
                        <i class="material-icons m-1 text-warning" (click)="copy(file)" title="Copy">file_copy</i>
                        <i class="material-icons m-1 text-warning" (click)="edit(file)" title="Edit">edit</i>
                        <i class="material-icons m-1 text-success" (click)="download(file)" title="Download">download</i>
                        <i class="material-icons  m-1 text-danger" (click)="delete(file)" title="Delete">delete</i>
                    </div>
                </div>
            </app-card>
        </div>
    </div>
</div>

<app-preview [file]="preview" (close)="preview=null"></app-preview>